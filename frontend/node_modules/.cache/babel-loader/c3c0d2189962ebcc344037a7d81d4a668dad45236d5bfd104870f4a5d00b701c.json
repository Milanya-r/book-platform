{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\specn\\\\OneDrive\\\\\\u0420\\u0430\\u0431\\u043E\\u0447\\u0438\\u0439 \\u0441\\u0442\\u043E\\u043B\\\\project\\\\project\\\\frontend\\\\src\\\\components\\\\Notifications\\\\NotificationIcon.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NotificationIcon = () => {\n  _s();\n  const [unreadCount, setUnreadCount] = useState(0);\n  useEffect(() => {\n    const fetchUnreadCount = async () => {\n      try {\n        const token = localStorage.getItem(\"token\");\n        const response = await axios.get(\"http://localhost:5000/api/notifications\", {\n          headers: {\n            Authorization: `Bearer ${token}`\n          }\n        });\n        const unread = response.data.filter(notif => !notif.isRead).length;\n        setUnreadCount(unread);\n      } catch (error) {\n        console.error(\"–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:\", error);\n      }\n    };\n    fetchUnreadCount();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: \"relative\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"span\", {\n      role: \"img\",\n      \"aria-label\": \"notifications\",\n      children: \"\\uD83D\\uDD14\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 13\n    }, this), unreadCount > 0 && /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        position: \"absolute\",\n        top: \"-5px\",\n        right: \"-5px\",\n        backgroundColor: \"red\",\n        color: \"white\",\n        borderRadius: \"50%\",\n        padding: \"2px 6px\",\n        fontSize: \"10px\"\n      },\n      children: unreadCount\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 25,\n    columnNumber: 9\n  }, this);\n};\n_s(NotificationIcon, \"kbkQyZcWntSU4g4UPMkVP4HEso8=\");\n_c = NotificationIcon;\nexport default NotificationIcon;\nvar _c;\n$RefreshReg$(_c, \"NotificationIcon\");","map":{"version":3,"names":["React","useEffect","useState","axios","jsxDEV","_jsxDEV","NotificationIcon","_s","unreadCount","setUnreadCount","fetchUnreadCount","token","localStorage","getItem","response","get","headers","Authorization","unread","data","filter","notif","isRead","length","error","console","style","position","children","role","fileName","_jsxFileName","lineNumber","columnNumber","top","right","backgroundColor","color","borderRadius","padding","fontSize","_c","$RefreshReg$"],"sources":["C:/Users/specn/OneDrive/–†–∞–±–æ—á–∏–π —Å—Ç–æ–ª/project/project/frontend/src/components/Notifications/NotificationIcon.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst NotificationIcon = () => {\r\n    const [unreadCount, setUnreadCount] = useState(0);\r\n\r\n    useEffect(() => {\r\n        const fetchUnreadCount = async () => {\r\n            try {\r\n                const token = localStorage.getItem(\"token\");\r\n                const response = await axios.get(\"http://localhost:5000/api/notifications\", {\r\n                    headers: { Authorization: `Bearer ${token}` },\r\n                });\r\n                const unread = response.data.filter((notif) => !notif.isRead).length;\r\n                setUnreadCount(unread);\r\n            } catch (error) {\r\n                console.error(\"–û—à–∏–±–∫–∞ –ø–æ–ª—É—á–µ–Ω–∏—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–π:\", error);\r\n            }\r\n        };\r\n\r\n        fetchUnreadCount();\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ position: \"relative\" }}>\r\n            <span role=\"img\" aria-label=\"notifications\">\r\n                üîî\r\n            </span>\r\n            {unreadCount > 0 && (\r\n                <span\r\n                    style={{\r\n                        position: \"absolute\",\r\n                        top: \"-5px\",\r\n                        right: \"-5px\",\r\n                        backgroundColor: \"red\",\r\n                        color: \"white\",\r\n                        borderRadius: \"50%\",\r\n                        padding: \"2px 6px\",\r\n                        fontSize: \"10px\",\r\n                    }}\r\n                >\r\n                    {unreadCount}\r\n                </span>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default NotificationIcon;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,gBAAgB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC3B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGP,QAAQ,CAAC,CAAC,CAAC;EAEjDD,SAAS,CAAC,MAAM;IACZ,MAAMS,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACjC,IAAI;QACA,MAAMC,KAAK,GAAGC,YAAY,CAACC,OAAO,CAAC,OAAO,CAAC;QAC3C,MAAMC,QAAQ,GAAG,MAAMX,KAAK,CAACY,GAAG,CAAC,yCAAyC,EAAE;UACxEC,OAAO,EAAE;YAAEC,aAAa,EAAE,UAAUN,KAAK;UAAG;QAChD,CAAC,CAAC;QACF,MAAMO,MAAM,GAAGJ,QAAQ,CAACK,IAAI,CAACC,MAAM,CAAEC,KAAK,IAAK,CAACA,KAAK,CAACC,MAAM,CAAC,CAACC,MAAM;QACpEd,cAAc,CAACS,MAAM,CAAC;MAC1B,CAAC,CAAC,OAAOM,KAAK,EAAE;QACZC,OAAO,CAACD,KAAK,CAAC,+BAA+B,EAAEA,KAAK,CAAC;MACzD;IACJ,CAAC;IAEDd,gBAAgB,CAAC,CAAC;EACtB,CAAC,EAAE,EAAE,CAAC;EAEN,oBACIL,OAAA;IAAKqB,KAAK,EAAE;MAAEC,QAAQ,EAAE;IAAW,CAAE;IAAAC,QAAA,gBACjCvB,OAAA;MAAMwB,IAAI,EAAC,KAAK;MAAC,cAAW,eAAe;MAAAD,QAAA,EAAC;IAE5C;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,EACNzB,WAAW,GAAG,CAAC,iBACZH,OAAA;MACIqB,KAAK,EAAE;QACHC,QAAQ,EAAE,UAAU;QACpBO,GAAG,EAAE,MAAM;QACXC,KAAK,EAAE,MAAM;QACbC,eAAe,EAAE,KAAK;QACtBC,KAAK,EAAE,OAAO;QACdC,YAAY,EAAE,KAAK;QACnBC,OAAO,EAAE,SAAS;QAClBC,QAAQ,EAAE;MACd,CAAE;MAAAZ,QAAA,EAEDpB;IAAW;MAAAsB,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACV,CACT;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACA,CAAC;AAEd,CAAC;AAAC1B,EAAA,CA3CID,gBAAgB;AAAAmC,EAAA,GAAhBnC,gBAAgB;AA6CtB,eAAeA,gBAAgB;AAAC,IAAAmC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}